package dam.login.view;

import javax.swing.JFrame;
import java.awt.BorderLayout;
import java.awt.Dimension;
import java.awt.Toolkit;
import java.util.ArrayList;

import javax.swing.JMenuBar;
import javax.swing.JMenuItem;
import javax.swing.JScrollPane;
import javax.swing.JLabel;
import java.awt.Font;
import javax.swing.JTable;
import javax.swing.table.DefaultTableModel;

import dam.pic.model.Coche;

import javax.swing.JButton;

public class VEmpleado extends JFrame {
	private static final String CLM_ID = "ID_COCHE";
	private static final String CLM_MARCA = "MARCA";
	private static final String CLM_MODELO = "MODELO";
	private static final String CLM_ANIO = "AÑO";
	private static final String CLM_COLOR = "COLOR";
	private static final String CLM_COMBUSTIBLE = "COMBUSTIBLE";
	private static final String CLM_PRECIO = "PRECIO";
	private static final String CLM_TRANSMISION = "TRANSMISION";
	private static final String CLM_EXTRAS = "EXTRAS";
	
	private DefaultTableModel tblModel;
	private JMenuItem mntmCoReservas;
	private JTable tblVehiculosEmple;
	public VEmpleado() {
		
		crearMenu();
		init();
	}

	private void crearMenu() {
		JMenuBar menuBar = new JMenuBar();
		setJMenuBar(menuBar);
		
		mntmCoReservas = new JMenuItem("Consulta de Reservas");
		menuBar.add(mntmCoReservas);
		
		JMenuItem mntmModVehiculos = new JMenuItem("Modificaci\u00F3n de Veh\u00EDculos");
		menuBar.add(mntmModVehiculos);
		getContentPane().setLayout(null);
		
	}

	private void init() {
		
		setSize(VInicial.ANCHO + 400,VInicial.ALTO + 170);
		setDefaultCloseOperation(EXIT_ON_CLOSE);
		

		Dimension pantalla = Toolkit.getDefaultToolkit().getScreenSize();
		Dimension ventana = new Dimension(VInicial.ANCHO + 300,VInicial.ALTO + 350);
		setLocation((pantalla.width-ventana.width)/2,(pantalla.height-ventana.height)/2);
		
		JLabel lblListaEmple = new JLabel("Lista de Veh\u00EDculos");
		lblListaEmple.setFont(new Font("Tahoma", Font.PLAIN, 14));
		lblListaEmple.setBounds(10, 11, 153, 14);
		getContentPane().add(lblListaEmple);
		
		JScrollPane scrollPane = new JScrollPane();
		scrollPane.setBounds(10, 36, 718, 240);
		getContentPane().add(scrollPane);
		
		tblVehiculosEmple = new JTable();
		scrollPane.setViewportView(tblVehiculosEmple);
		
		JButton btnEliminarVehiculo = new JButton("Eliminar Veh\u00EDculo");
		btnEliminarVehiculo.setBounds(423, 287, 153, 39);
		getContentPane().add(btnEliminarVehiculo);
		
		JButton btnAddVehiculo = new JButton("A\u00F1adir Nuevo Veh\u00EDculo");
		btnAddVehiculo.setBounds(158, 287, 153, 39);
		getContentPane().add(btnAddVehiculo);
		
		configurarTabla();
		
	}
	
	private void configurarTabla() {
		tblModel = new DefaultTableModel() {
			@Override
			public boolean isCellEditable(int row, int column) {
				/*if (column == 2) {
					return true;
				} else {*/
					return false;
				//}
			}
		};
		
		tblModel.addColumn(CLM_ID);
		tblModel.addColumn(CLM_MARCA);
		tblModel.addColumn(CLM_MODELO);
		tblModel.addColumn(CLM_ANIO);
		tblModel.addColumn(CLM_PRECIO);
		tblModel.addColumn(CLM_COLOR);
		tblModel.addColumn(CLM_COMBUSTIBLE);
		tblModel.addColumn(CLM_TRANSMISION);
		tblModel.addColumn(CLM_EXTRAS);
		
		
		tblVehiculosEmple.setModel(tblModel);
		
		tblVehiculosEmple.getColumn(CLM_ID).setPreferredWidth(5);
		tblVehiculosEmple.getColumn(CLM_MARCA).setPreferredWidth(25);
		tblVehiculosEmple.getColumn(CLM_MODELO).setPreferredWidth(30);
		tblVehiculosEmple.getColumn(CLM_ANIO).setPreferredWidth(5);
		tblVehiculosEmple.getColumn(CLM_PRECIO).setPreferredWidth(25);
		tblVehiculosEmple.getColumn(CLM_COLOR).setPreferredWidth(25);
		tblVehiculosEmple.getColumn(CLM_COMBUSTIBLE).setPreferredWidth(60);
		tblVehiculosEmple.getColumn(CLM_TRANSMISION).setPreferredWidth(55);
		tblVehiculosEmple.getColumn(CLM_EXTRAS).setPreferredWidth(190);
		
		tblVehiculosEmple.setRowHeight(25);
		
	}
	
	public void cargarTabla(ArrayList<Coche> listaCoches) {
		tblModel.setRowCount(0);
		
		Object[] fila = new Object[9];
		
		for (Coche coche : listaCoches) {
			fila[0] = coche.getId();
			fila[1] = coche.getMarca();
			fila[2] = coche.getModelo();
			fila[3] = coche.getAnio();
			fila[4] = coche.getPrecio();
			fila[5] = coche.getColor();
			fila[6] = coche.getCombustible();
			fila[7] = coche.getTransmision();
			fila[8] = coche.getExtras();
			
			tblModel.addRow(fila);
		}
	}
	
	public void hacerVisible() { 
		setVisible(true);
	}
}
